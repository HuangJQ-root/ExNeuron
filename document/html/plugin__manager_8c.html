<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ExNeuron: plugin_manager.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ExNeuron
   &#160;<span id="projectnumber">2.12</span>
   </div>
   <div id="projectbrief">this is a document for ExNeuron</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">plugin_manager.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;dlfcn.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="errcodes_8h_source.html">errcodes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">utils/log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utextend_8h_source.html">utils/utextend.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="adapter_8h_source.html">adapter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="plugin_8h_source.html">plugin.h</a>&quot;</code><br />
<code>#include &quot;restful/rest.h&quot;</code><br />
<code>#include &quot;<a class="el" href="argparse_8h_source.html">argparse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="plugin__manager_8h_source.html">plugin_manager.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for plugin_manager.c:</div>
<div class="dyncontent">
<div class="center"><img src="plugin__manager_8c__incl.png" border="0" usemap="#aplugin__manager_8c" alt=""/></div>
<map name="aplugin__manager_8c" id="aplugin__manager_8c">
<area shape="rect" title=" " alt="" coords="1164,5,1301,32"/>
<area shape="rect" title=" " alt="" coords="1765,677,1839,704"/>
<area shape="rect" title=" " alt="" coords="167,80,234,107"/>
<area shape="rect" title=" " alt="" coords="1476,677,1547,704"/>
<area shape="rect" title=" " alt="" coords="1017,80,1091,107"/>
<area shape="rect" href="errcodes_8h.html" title=" " alt="" coords="227,379,318,405"/>
<area shape="rect" href="log_8h.html" title=" " alt="" coords="116,155,203,181"/>
<area shape="rect" href="utextend_8h.html" title=" " alt="" coords="1481,528,1605,555"/>
<area shape="rect" href="adapter_8h.html" title=" " alt="" coords="1126,229,1209,256"/>
<area shape="rect" href="plugin_8h.html" title=" " alt="" coords="1041,155,1115,181"/>
<area shape="rect" title=" " alt="" coords="1553,80,1659,107"/>
<area shape="rect" href="argparse_8h.html" title=" " alt="" coords="1170,603,1261,629"/>
<area shape="rect" href="plugin__manager_8h.html" title=" " alt="" coords="1217,80,1355,107"/>
<area shape="rect" title=" " alt="" coords="497,677,568,704"/>
<area shape="rect" title=" " alt="" coords="5,229,92,256"/>
<area shape="rect" title=" " alt="" coords="116,229,203,256"/>
<area shape="rect" href="zlog_8h.html" title=" " alt="" coords="335,229,429,256"/>
<area shape="rect" href="define_8h.html" title=" " alt="" coords="1031,528,1106,555"/>
<area shape="rect" title=" " alt="" coords="278,304,353,331"/>
<area shape="rect" title=" " alt="" coords="378,603,445,629"/>
<area shape="rect" title=" " alt="" coords="1066,677,1149,704"/>
<area shape="rect" href="utarray_8h.html" title=" " alt="" coords="1575,603,1653,629"/>
<area shape="rect" href="uthash_8h.html" title=" " alt="" coords="1472,603,1551,629"/>
<area shape="rect" href="utlist_8h.html" title=" " alt="" coords="1830,603,1897,629"/>
<area shape="rect" title=" " alt="" coords="1574,677,1649,704"/>
<area shape="rect" title=" " alt="" coords="1356,677,1427,704"/>
<area shape="rect" title=" " alt="" coords="1153,304,1229,331"/>
<area shape="rect" href="metrics_8h.html" title=" " alt="" coords="1249,453,1331,480"/>
<area shape="rect" href="msg_8h.html" title=" " alt="" coords="783,304,845,331"/>
<area shape="rect" title=" " alt="" coords="1131,528,1215,555"/>
<area shape="rect" href="type_8h.html" title=" " alt="" coords="640,528,703,555"/>
<area shape="rect" href="rolling__counter_8h.html" title=" " alt="" coords="1285,603,1447,629"/>
<area shape="rect" title=" " alt="" coords="570,603,666,629"/>
<area shape="rect" title=" " alt="" coords="691,603,775,629"/>
<area shape="rect" href="neu__json__rw_8h.html" title=" " alt="" coords="631,379,776,405"/>
<area shape="rect" href="tag_8h.html" title=" " alt="" coords="779,453,833,480"/>
<area shape="rect" title=" " alt="" coords="953,379,1021,405"/>
<area shape="rect" href="json_8h.html" title=" " alt="" coords="952,603,1044,629"/>
<area shape="rect" href="event_8h.html" title=" " alt="" coords="90,453,202,480"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structplugin__entity.html">plugin_entity</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">存储插件实体的相关信息。  <a href="structplugin__entity.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structneu__plugin__manager.html">neu_plugin_manager</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">插件管理器结构体，负责管理所有的插件实体。  <a href="structneu__plugin__manager.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1f534dd52612406f64f6b76b27856b26"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structplugin__entity.html">plugin_entity</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a1f534dd52612406f64f6b76b27856b26">plugin_entity_t</a></td></tr>
<tr class="memdesc:a1f534dd52612406f64f6b76b27856b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">存储插件实体的相关信息。  <a href="plugin__manager_8c.html#a1f534dd52612406f64f6b76b27856b26">More...</a><br /></td></tr>
<tr class="separator:a1f534dd52612406f64f6b76b27856b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff3579e90c6db1783bac31ff43bf2428"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#aff3579e90c6db1783bac31ff43bf2428">entity_free</a> (<a class="el" href="plugin__manager_8c.html#a1f534dd52612406f64f6b76b27856b26">plugin_entity_t</a> *entity)</td></tr>
<tr class="memdesc:aff3579e90c6db1783bac31ff43bf2428"><td class="mdescLeft">&#160;</td><td class="mdescRight">释放插件实体占用的所有资源。  <a href="plugin__manager_8c.html#aff3579e90c6db1783bac31ff43bf2428">More...</a><br /></td></tr>
<tr class="separator:aff3579e90c6db1783bac31ff43bf2428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67f3ba668ce35f6724152326a182d81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#af67f3ba668ce35f6724152326a182d81">neu_plugin_manager_create</a> ()</td></tr>
<tr class="separator:af67f3ba668ce35f6724152326a182d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7e836e52499a80769f60de9b5d7cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#ade7e836e52499a80769f60de9b5d7cf9">neu_plugin_manager_destroy</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr)</td></tr>
<tr class="separator:ade7e836e52499a80769f60de9b5d7cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae3bf4abfee3e2ca3ea57533b398832"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a8ae3bf4abfee3e2ca3ea57533b398832">neu_plugin_manager_add</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_lib_name)</td></tr>
<tr class="memdesc:a8ae3bf4abfee3e2ca3ea57533b398832"><td class="mdescLeft">&#160;</td><td class="mdescRight">向插件管理器中添加一个新的插件。  <a href="plugin__manager_8c.html#a8ae3bf4abfee3e2ca3ea57533b398832">More...</a><br /></td></tr>
<tr class="separator:a8ae3bf4abfee3e2ca3ea57533b398832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d7a5f9293e5f54f8a45d5f815953f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a11d7a5f9293e5f54f8a45d5f815953f1">neu_plugin_manager_update</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_lib_name)</td></tr>
<tr class="memdesc:a11d7a5f9293e5f54f8a45d5f815953f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新插件管理器中的插件信息。  <a href="plugin__manager_8c.html#a11d7a5f9293e5f54f8a45d5f815953f1">More...</a><br /></td></tr>
<tr class="separator:a11d7a5f9293e5f54f8a45d5f815953f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6480c3f99313701c02050dfce8f8555c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a6480c3f99313701c02050dfce8f8555c">neu_plugin_manager_del</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name)</td></tr>
<tr class="memdesc:a6480c3f99313701c02050dfce8f8555c"><td class="mdescLeft">&#160;</td><td class="mdescRight">从插件管理器中删除指定名称的插件。  <a href="plugin__manager_8c.html#a6480c3f99313701c02050dfce8f8555c">More...</a><br /></td></tr>
<tr class="separator:a6480c3f99313701c02050dfce8f8555c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383cad635fa128b7aea18fbf8b07dc63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUT__array.html">UT_array</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a383cad635fa128b7aea18fbf8b07dc63">neu_plugin_manager_get</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr)</td></tr>
<tr class="memdesc:a383cad635fa128b7aea18fbf8b07dc63"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取插件管理器中的所有非单例插件信息。  <a href="plugin__manager_8c.html#a383cad635fa128b7aea18fbf8b07dc63">More...</a><br /></td></tr>
<tr class="separator:a383cad635fa128b7aea18fbf8b07dc63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c9ee7e6b60c470814d054e0ed8c2d0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structUT__array.html">UT_array</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a9c9ee7e6b60c470814d054e0ed8c2d0b">neu_plugin_manager_get_single</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr)</td></tr>
<tr class="memdesc:a9c9ee7e6b60c470814d054e0ed8c2d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">从插件管理器中获取所有单例插件的信息。  <a href="plugin__manager_8c.html#a9c9ee7e6b60c470814d054e0ed8c2d0b">More...</a><br /></td></tr>
<tr class="separator:a9c9ee7e6b60c470814d054e0ed8c2d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a709f7d7dde97af84572dc6871f680"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#ad6a709f7d7dde97af84572dc6871f680">neu_plugin_manager_find</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name, <a class="el" href="msg_8h.html#ab6e9d2620999dd3091c3d5f04a640114">neu_resp_plugin_info_t</a> *info)</td></tr>
<tr class="memdesc:ad6a709f7d7dde97af84572dc6871f680"><td class="mdescLeft">&#160;</td><td class="mdescRight">在插件管理器中查找指定名称的插件，并获取其详细信息。  <a href="plugin__manager_8c.html#ad6a709f7d7dde97af84572dc6871f680">More...</a><br /></td></tr>
<tr class="separator:ad6a709f7d7dde97af84572dc6871f680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9f148d3979a8213254d64f2806fbea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#aaa9f148d3979a8213254d64f2806fbea">neu_plugin_manager_exists</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name)</td></tr>
<tr class="memdesc:aaa9f148d3979a8213254d64f2806fbea"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查指定名称的插件是否存在于插件管理器中。  <a href="plugin__manager_8c.html#aaa9f148d3979a8213254d64f2806fbea">More...</a><br /></td></tr>
<tr class="separator:aaa9f148d3979a8213254d64f2806fbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446d67588ab5be0f81769ff452b334ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a446d67588ab5be0f81769ff452b334ee">neu_plugin_manager_is_single</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name)</td></tr>
<tr class="memdesc:a446d67588ab5be0f81769ff452b334ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查指定名称的插件是否为单例模式。  <a href="plugin__manager_8c.html#a446d67588ab5be0f81769ff452b334ee">More...</a><br /></td></tr>
<tr class="separator:a446d67588ab5be0f81769ff452b334ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226c813a7193a5db70c7b9e3040bb97c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a226c813a7193a5db70c7b9e3040bb97c">neu_plugin_manager_create_instance</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name, <a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *instance)</td></tr>
<tr class="memdesc:a226c813a7193a5db70c7b9e3040bb97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据插件名称在插件管理器中创建插件实例。  <a href="plugin__manager_8c.html#a226c813a7193a5db70c7b9e3040bb97c">More...</a><br /></td></tr>
<tr class="separator:a226c813a7193a5db70c7b9e3040bb97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5cebae5c47c29bd121cdaf1106606e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#aa5cebae5c47c29bd121cdaf1106606e3">neu_plugin_manager_load_static</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_name, <a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *instance)</td></tr>
<tr class="memdesc:aa5cebae5c47c29bd121cdaf1106606e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">加载静态插件到插件管理器中。  <a href="plugin__manager_8c.html#aa5cebae5c47c29bd121cdaf1106606e3">More...</a><br /></td></tr>
<tr class="separator:aa5cebae5c47c29bd121cdaf1106606e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3d1d3aa1ee5ec6495f8de21b5a0cc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a4e3d1d3aa1ee5ec6495f8de21b5a0cc2">neu_plugin_manager_destroy_instance</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, <a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *instance)</td></tr>
<tr class="separator:a4e3d1d3aa1ee5ec6495f8de21b5a0cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ff0a07b9163bcf9f5ef16bf74352b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a81ff0a07b9163bcf9f5ef16bf74352b5">neu_plugin_manager_create_instance_by_path</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *plugin_path, <a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *instance, int *error)</td></tr>
<tr class="separator:a81ff0a07b9163bcf9f5ef16bf74352b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0b357274019c2d640284396ffdcdec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a5f0b357274019c2d640284396ffdcdec">neu_plugin_manager_create_instance_by_lib_name</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *lib_name, <a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *instance)</td></tr>
<tr class="separator:a5f0b357274019c2d640284396ffdcdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f05723b0a581a95b8c93ee6f566fb6a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#a3f05723b0a581a95b8c93ee6f566fb6a">neu_plugin_manager_remove_library</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *library)</td></tr>
<tr class="separator:a3f05723b0a581a95b8c93ee6f566fb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f15a51e01ce1f0329d3cc14207acf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="plugin__manager_8c.html#ac1f15a51e01ce1f0329d3cc14207acf5">neu_plugin_manager_schema_exist</a> (<a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *mgr, const char *schema)</td></tr>
<tr class="separator:ac1f15a51e01ce1f0329d3cc14207acf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a1f534dd52612406f64f6b76b27856b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f534dd52612406f64f6b76b27856b26">&#9670;&nbsp;</a></span>plugin_entity_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structplugin__entity.html">plugin_entity</a> <a class="el" href="plugin__manager_8c.html#a1f534dd52612406f64f6b76b27856b26">plugin_entity_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>存储插件实体的相关信息。 </p>
<p>NEURON IIoT System for Industry 4.0 Copyright (C) 2020-2022 EMQ Technologies Co., Ltd All rights reserved.</p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.</p>
<p>描述插件的各种元信息，这些信息有助于系统对插件进行 管理、加载、展示和配置 </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aff3579e90c6db1783bac31ff43bf2428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3579e90c6db1783bac31ff43bf2428">&#9670;&nbsp;</a></span>entity_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void entity_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8c.html#a1f534dd52612406f64f6b76b27856b26">plugin_entity_t</a> *&#160;</td>
          <td class="paramname"><em>entity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>释放插件实体占用的所有资源。 </p>
<p>此函数负责释放与插件实体相关的所有动态分配的内存资源， 包括插件名称、库名称、模式文件名、描述信息等。如果插件是单例类型， 还会释放单例名称所占用的内存。最后，释放插件实体本身。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entity</td><td>指向要释放的插件实体的指针。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>该函数假设所有传入的字符串字段都是通过 <code>malloc</code> 或类似函数动态分配的。</li>
<li>调用此函数后，<code>entity</code> 指针将不再有效。 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a8ae3bf4abfee3e2ca3ea57533b398832"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae3bf4abfee3e2ca3ea57533b398832">&#9670;&nbsp;</a></span>neu_plugin_manager_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neu_plugin_manager_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_lib_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>向插件管理器中添加一个新的插件。 </p>
<p>该函数尝试在指定的插件目录中打开名为 <code>plugin_lib_name</code> 的动态链接库文件，并查找其中的 <code><a class="el" href="structneu__plugin__module.html" title="插件模块信息结构体">neu_plugin_module</a></code> 符号。 如果找到该符号，并且插件信息有效，该函数将创建一个新的 <code>plugin_entity_t</code> 结构并将其添加到插件管理器的哈希表中。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向插件管理器的指针。 </td></tr>
    <tr><td class="paramname">plugin_lib_name</td><td>要加载的插件库文件的名称（不包括路径）。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回错误码，如果成功则返回 <code>NEU_ERR_SUCCESS</code>。<ul>
<li><code>NEU_ERR_LIBRARY_FAILED_TO_OPEN</code>：无法打开插件库文件。</li>
<li><code>NEU_ERR_LIBRARY_MODULE_INVALID</code>：插件库文件中没有 <code><a class="el" href="structneu__plugin__module.html" title="插件模块信息结构体">neu_plugin_module</a></code> 符号。</li>
<li><code>NEU_ERR_LIBRARY_INFO_INVALID</code>：插件信息无效。</li>
<li><code>NEU_ERR_LIBRARY_MODULE_VERSION_NOT_MATCH</code>：插件版本与主程序版本不匹配。</li>
<li><code>NEU_ERR_LIBRARY_NAME_CONFLICT</code>：插件名称冲突。</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>dlopen：此函数用于在运行时打开一个共享库文件，并且返回一个指向该共享库的句柄。借助这个句柄，程序就能调用共享库中的函数和变量。 dlsym(Dynamic Link Symbol)：该函数借助共享库的句柄，在共享库中查找指定名称的符号（函数或者变量），然后返回该符号的地址。 </dd></dl>

</div>
</div>
<a id="af67f3ba668ce35f6724152326a182d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67f3ba668ce35f6724152326a182d81">&#9670;&nbsp;</a></span>neu_plugin_manager_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a>* neu_plugin_manager_create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a226c813a7193a5db70c7b9e3040bb97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226c813a7193a5db70c7b9e3040bb97c">&#9670;&nbsp;</a></span>neu_plugin_manager_create_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neu_plugin_manager_create_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据插件名称在插件管理器中创建插件实例。 </p>
<p>此函数尝试根据提供的插件名称在指定的目录路径下查找并加载对应的插件库文件（.so等）， 并初始化插件实例。如果成功找到并加载了插件库，返回0；否则返回-1。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，代表插件管理器对象。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要创建实例的插件名称。 </td></tr>
    <tr><td class="paramname">instance</td><td>指向neu_plugin_instance_t类型的指针，用于存储创建的插件实例信息。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>如果成功创建插件实例，返回0；如果失败，返回-1。 </dd></dl>
<p>获取插件模块入口点</p>
<p>dlsym获取 <a class="el" href="structneu__plugin__module.html" title="插件模块信息结构体">neu_plugin_module</a> 变量的地址。通过获取到的 <a class="el" href="structneu__plugin__module.html" title="插件模块信息结构体">neu_plugin_module</a> 结构体指针，就可以访问插件的版本信息、 接口函数等内容。</p>

</div>
</div>
<a id="a5f0b357274019c2d640284396ffdcdec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0b357274019c2d640284396ffdcdec">&#9670;&nbsp;</a></span>neu_plugin_manager_create_instance_by_lib_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_create_instance_by_lib_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lib_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81ff0a07b9163bcf9f5ef16bf74352b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81ff0a07b9163bcf9f5ef16bf74352b5">&#9670;&nbsp;</a></span>neu_plugin_manager_create_instance_by_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_create_instance_by_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6480c3f99313701c02050dfce8f8555c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6480c3f99313701c02050dfce8f8555c">&#9670;&nbsp;</a></span>neu_plugin_manager_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neu_plugin_manager_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>从插件管理器中删除指定名称的插件。 </p>
<p>此函数尝试从插件管理器中删除一个插件，并根据插件类型（系统插件或自定义插件）决定是否允许删除。 对于自定义插件，它还会删除与插件相关的共享库文件和JSON模式文件。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向插件管理器实例的指针。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要删除的插件名称。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>成功时返回 NEU_ERR_SUCCESS；如果插件是系统插件，则返回 NEU_ERR_LIBRARY_SYSTEM_NOT_ALLOW_DEL； 如果插件不存在或其他错误发生，则返回相应的错误码。 </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plugin__manager_8c_a6480c3f99313701c02050dfce8f8555c_cgraph.png" border="0" usemap="#aplugin__manager_8c_a6480c3f99313701c02050dfce8f8555c_cgraph" alt=""/></div>
<map name="aplugin__manager_8c_a6480c3f99313701c02050dfce8f8555c_cgraph" id="aplugin__manager_8c_a6480c3f99313701c02050dfce8f8555c_cgraph">
<area shape="rect" title="从插件管理器中删除指定名称的插件。" alt="" coords="5,5,191,32"/>
<area shape="rect" href="plugin__manager_8c.html#aff3579e90c6db1783bac31ff43bf2428" title="释放插件实体占用的所有资源。" alt="" coords="239,5,332,32"/>
</map>
</div>

</div>
</div>
<a id="ade7e836e52499a80769f60de9b5d7cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7e836e52499a80769f60de9b5d7cf9">&#9670;&nbsp;</a></span>neu_plugin_manager_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void neu_plugin_manager_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="plugin__manager_8c_ade7e836e52499a80769f60de9b5d7cf9_cgraph.png" border="0" usemap="#aplugin__manager_8c_ade7e836e52499a80769f60de9b5d7cf9_cgraph" alt=""/></div>
<map name="aplugin__manager_8c_ade7e836e52499a80769f60de9b5d7cf9_cgraph" id="aplugin__manager_8c_ade7e836e52499a80769f60de9b5d7cf9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,164,47"/>
<area shape="rect" href="plugin__manager_8c.html#aff3579e90c6db1783bac31ff43bf2428" title="释放插件实体占用的所有资源。" alt="" coords="212,13,305,39"/>
</map>
</div>

</div>
</div>
<a id="a4e3d1d3aa1ee5ec6495f8de21b5a0cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e3d1d3aa1ee5ec6495f8de21b5a0cc2">&#9670;&nbsp;</a></span>neu_plugin_manager_destroy_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void neu_plugin_manager_destroy_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaa9f148d3979a8213254d64f2806fbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9f148d3979a8213254d64f2806fbea">&#9670;&nbsp;</a></span>neu_plugin_manager_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_exists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>检查指定名称的插件是否存在于插件管理器中。 </p>
<p>此函数通过插件名称在插件管理器中查找匹配的插件。如果找到了匹配的插件，则返回true，否则返回false。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，代表插件管理器对象。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要检查的插件名称。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>如果找到匹配的插件，返回true；如果没有找到，返回false。 </dd></dl>

</div>
</div>
<a id="ad6a709f7d7dde97af84572dc6871f680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6a709f7d7dde97af84572dc6871f680">&#9670;&nbsp;</a></span>neu_plugin_manager_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neu_plugin_manager_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="msg_8h.html#ab6e9d2620999dd3091c3d5f04a640114">neu_resp_plugin_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>在插件管理器中查找指定名称的插件，并获取其详细信息。 </p>
<p>此函数通过插件名称在插件管理器中查找匹配的插件，并将找到的插件信息复制到提供的neu_resp_plugin_info_t结构体中。 如果找到了匹配的插件，返回0；如果没有找到，则返回-1。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，代表插件管理器对象。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要查找的插件名称。 </td></tr>
    <tr><td class="paramname">info</td><td>指向neu_resp_plugin_info_t类型的指针，用于存储找到的插件信息。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>如果成功找到插件，返回0；如果未找到匹配插件，返回-1。 </dd></dl>

</div>
</div>
<a id="a383cad635fa128b7aea18fbf8b07dc63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383cad635fa128b7aea18fbf8b07dc63">&#9670;&nbsp;</a></span>neu_plugin_manager_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUT__array.html">UT_array</a>* neu_plugin_manager_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取插件管理器中的所有非单例插件信息。 </p>
<p>此函数遍历插件管理器中所有的插件实体，并将非单例插件的信息收集到一个动态数组中返回。 插件信息包括插件类型、种类、版本、显示名称、模式文件名、名称、库名称以及描述信息等。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向插件管理器实例的指针。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回包含所有非单例插件信息的动态数组；如果没有任何插件或发生错误，则返回空数组。</dd></dl>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>动态数组使用 <code><a class="el" href="structUT__array.html">UT_array</a></code> 实现，需要在使用后通过 <code>utarray_free</code> 释放。</li>
<li>所有字符串字段都是通过 <code>strncpy</code> 复制，确保不会超出目标缓冲区大小。 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a9c9ee7e6b60c470814d054e0ed8c2d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c9ee7e6b60c470814d054e0ed8c2d0b">&#9670;&nbsp;</a></span>neu_plugin_manager_get_single()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structUT__array.html">UT_array</a>* neu_plugin_manager_get_single </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>从插件管理器中获取所有单例插件的信息。 </p>
<p>此函数遍历插件管理器中的所有插件，并收集那些被标记为单例的插件信息到一个UT_array数组中。 插件信息见neu_resp_plugin_info_t类元素</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，代表插件管理器对象。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回一个包含neu_resp_plugin_info_t结构体的UT_array数组，如果没有任何单例插件，则返回空数组。 </dd></dl>
<p>遍历插件管理器中的所有插件</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">el</td><td>这是一个指向哈希表中元素的指针，在遍历过程中，它会依次指向哈希表中的每个元素。 可以通过 el 来访问当前元素的各个成员 </td></tr>
    <tr><td class="paramname">tmp</td><td>这是一个临时指针，tmp 会在删除元素时保存下一个要遍历的元素的指针。它的作用是 在遍历过程中，当需要删除当前元素时，避免因删除操作破坏遍历的顺序。因为在删除 元素时，哈希表的内部结构会发生变化，如果不使用临时指针，可能会导致遍历出错.</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a446d67588ab5be0f81769ff452b334ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446d67588ab5be0f81769ff452b334ee">&#9670;&nbsp;</a></span>neu_plugin_manager_is_single()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_is_single </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>检查指定名称的插件是否为单例模式。 </p>
<p>此函数通过插件名称在插件管理器中查找匹配的插件，并检查该插件是否被标记为单例模式（single）。 如果找到了匹配的插件并且它是单例模式，则返回true；如果未找到匹配的插件或插件不是单例模式，则返回false。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，代表插件管理器对象。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要检查的插件名称。 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>如果找到匹配的插件且其为单例模式，返回true；否则返回false。 </dd></dl>

</div>
</div>
<a id="aa5cebae5c47c29bd121cdaf1106606e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5cebae5c47c29bd121cdaf1106606e3">&#9670;&nbsp;</a></span>neu_plugin_manager_load_static()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void neu_plugin_manager_load_static </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a1e7f156e7144ed3b2e96f91e379ac432">neu_plugin_instance_t</a> *&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>加载静态插件到插件管理器中。 </p>
<p>此函数用于加载预定义的静态插件（例如默认仪表盘插件），并将其模块信息存储在提供的实例中。 与动态加载插件不同，静态插件通常直接编译进应用程序或库中。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向neu_plugin_manager_t类型的指针，表示插件管理器对象。当前实现中并未使用此参数。 </td></tr>
    <tr><td class="paramname">plugin_name</td><td>要加载的插件名称。 </td></tr>
    <tr><td class="paramname">instance</td><td>指向neu_plugin_instance_t类型的指针，用于存储加载的插件模块信息实例。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f05723b0a581a95b8c93ee6f566fb6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f05723b0a581a95b8c93ee6f566fb6a">&#9670;&nbsp;</a></span>neu_plugin_manager_remove_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_remove_library </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>library</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1f15a51e01ce1f0329d3cc14207acf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1f15a51e01ce1f0329d3cc14207acf5">&#9670;&nbsp;</a></span>neu_plugin_manager_schema_exist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool neu_plugin_manager_schema_exist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>schema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a11d7a5f9293e5f54f8a45d5f815953f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d7a5f9293e5f54f8a45d5f815953f1">&#9670;&nbsp;</a></span>neu_plugin_manager_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int neu_plugin_manager_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plugin__manager_8h.html#a5e1e7c623a46ef74edf2ce4d205adf52">neu_plugin_manager_t</a> *&#160;</td>
          <td class="paramname"><em>mgr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>plugin_lib_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>更新插件管理器中的插件信息。 </p>
<p>该函数尝试在指定的插件目录中打开指定的插件库文件，并从中获取插件模块信息。 如果插件已存在于管理器中，则更新其信息；否则，返回错误。</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>指向插件管理器的指针。 </td></tr>
    <tr><td class="paramname">plugin_lib_name</td><td>要更新的插件库文件的名称（不带路径）。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回错误代码：<ul>
<li>NEU_ERR_SUCCESS: 成功更新插件。</li>
<li>NEU_ERR_LIBRARY_FAILED_TO_OPEN: 无法打开插件库文件。</li>
<li>NEU_ERR_LIBRARY_MODULE_INVALID: 插件库文件中没有找到有效的插件模块符号。</li>
<li>NEU_ERR_LIBRARY_MODULE_NOT_EXISTS: 插件管理器中没有找到指定的插件模块。</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>该函数假设 <code>g_plugin_dir</code> 是一个全局变量，存储了插件目录的路径。 </dd>
<dd>
该函数使用 <code>dlopen</code>、<code>dlsym</code> 和 <code>dlclose</code> 函数来动态加载和卸载插件库。 </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
